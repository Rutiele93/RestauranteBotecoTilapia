<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragments/head :: headImports}"></head>

<body>
	<!-- partial:partials/_navbar.html -->
	<nav th:replace="~{fragments/navbar :: navbarImports}"></nav>
	<!-- partial:partials/_topbar.html -->
	<nav th:replace="~{fragments/topbar :: topbarImports}"></nav>

	<section class="d-flex align-items-center">
	</section><!-- End Hero -->
	<main id="main">

		<!-- ======= Reserva de mesa Section ======= -->
		<section id="book-a-table" class="book-a-table">
			<div class="container" data-aos="fade-up">

				<div class="section-title">
					<h2>Pedido</h2>
					<p>Reservar uma mesa</p>
				</div>
				<form th:action="@{/pedido/cadastroPedido}" method="post" th:object="${pedidos}" class="php-email-form"
					data-aos="fade-up" data-aos-delay="100">
					<div class="row">
						<!-- Input para Proteção contra Ataques CSRF-->
						<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
						<div class="col-lg-4 col-md-6 form-group mt-3 mt-md-0">
							<label for="nome" cclass="lblCliente">Nome Cliente</label>
							<select class="form-control" th:field="*{clientes}">
								<option th:each="cliente : ${clientes}" th:text="${cliente.nome}"
									th:value="${cliente.id}"></option>
							</select>
							<div class="validate"></div>
						</div>

						<div class="col-lg-4 col-md-6 form-group mt-3 mt-md-0">
							<label for="nome" class="lblCliente">Status Pedido</label>
							<select name="" id="" class="form-control" th:field="*{status}">
								<option th:each="statusTicket : ${status}" th:text="${statusTicket}"
									th:value="${statusTicket}">
								</option>
							</select>
							<div class="validate"></div>
						</div>
						<div class="col-lg-4 col-md-6 form-group mt-3 mt-md-0">
							<label for="nome" class="lblCliente">Produto</label>
							<select class="form-control" th:field="*{produtoselc}" multiple>
								<option th:each="produto : ${produtoselc}" th:value="${produto.id}"
									th:data-preco="${produto.preco}">
									<span th:text="${produto.nome} + ' - R$ ' + ${produto.preco}"></span>
								</option>
							</select>
							<div class="validate"></div>
						</div>

						<div class="col-lg-4 col-md-6 form-group mt-3 mt-md-0">
							<label for="nome" class="lblCliente">Pagamento</label>
							<select name="" id="" class="form-control" th:field="*{pagamento}">
								<option th:each="pagamento : ${pagamento}" th:text="${pagamento}"
									th:value="${pagamento}">
								</option>
							</select>
							<div class="validate"></div>
						</div>

						<div class="col-lg-4 col-md-6 form-group mt-3 mt-md-0">
							<label for="nome" class="lblCliente">Valor Final</label>
							<input type="text" class="form-control" name="" id="valorFinal" data-rule="minlen:4"
								data-msg="Please enter at least 4 chars" readonly>
							<div class="validate"></div>
						</div>
					</div>
					<div class="form-group mt-3">
						<textarea class="form-control" name="observacao" rows="5"
							placeholder="observacao... Informe quantidade de pessoas."></textarea>
						<div class="validate"></div>
					</div>
					<div class="text-center">
						<button type="submit" class="btn btn-success btn-rounded mt-4">Reservar uma Mesa</button>
					</div>
				</form>

			</div>
		</section><!-- End Book A Table Section -->
	</main><!-- End #main -->
	<!-- ======= Footer ======= -->
	<footer th:replace="~{fragments/footer :: footerImports}"></footer>

	<div id="preloader"></div>
	<a href="#" class="back-to-top d-flex align-items-center justify-content-center">
		<i class="bi bi-arrow-up-short"></i></a>


	<!-- Vendor JS Files -->
	<script src="js/eventos.js"></script>
	<script src="../vendor/aos/aos.js"></script>
	<script src="../vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
	<script src="../vendor/glightbox/js/glightbox.min.js"></script>
	<script src="../vendor/isotope-layout/isotope.pkgd.min.js"></script>

	<!-- Template Main JS File -->
	<script src="../js/main.js"></script>

	<!--	<script>-->
	<!--		// Captura o elemento select e o campo de entrada para o total-->
	<!--		const selectProdutos = document.getElementById('produtos');-->
	<!--		const inputTotal = document.getElementById('total');-->

	<!--		// Adiciona um ouvinte de evento para o evento de alteração do select-->
	<!--		selectProdutos.addEventListener('change', function () {-->
	<!--			let total = 0;-->

	<!--			// Para cada opção selecionada, adiciona o preço ao total-->
	<!--			for (const option of selectProdutos.selectedOptions) {-->
	<!--				total += parseFloat(option.getAttribute('data-preco'));-->
	<!--			}-->

	<!--			// Atualiza o valor do campo de entrada do total-->
	<!--			inputTotal.value = 'R$ ' + total.toFixed(2);-->
	<!--		});-->
	<!--	</script>-->
</body>

</html>